---
import "../styles/chatbot.css";
import { Image } from "astro:assets";
import whatsapp from "../../public/images/icons/whatsapp.svg";
import chatbot from "../../public/Chatbot.svg";
import close from "../../public/images/icons/close.svg";
import icon from "../../public/icon.webp";
import online from "../../public/Online.png";
---

<div
  id="Chatbot-content"
  class="z-40 bg-white size-full lg:rounded-xl lg:mx-3 lg:h-120 lg:w-96 xl:h-chatbot fixed bottom-0 lg:bottom-18 right-0 hidden flex-col overflow-hidden will-change-transform drop-shadow-md"
>
  <div
    class="bg-gradient-to-br from-primaryOrange from-0% to-customYellow to-100% p-4 flex items-center justify-between relative"
  >
    <div class="flex flex-col w-full gap-4">
      <div class="flex items-center gap-2 w-full">
        <Image src={online} alt="online-icon" class="size-8" loading="lazy" />
        <h6 class="text-white text-xl font-semibold font-Montserrat">
          FAQ Assistant
        </h6>
      </div>
    </div>
    <button
      id="close"
      class="hover:scale-110 duration-300 absolute right-4 top-5"
    >
      <Image
        src={close}
        alt="close"
        class="pointer-events-none"
        loading="lazy"
      />
    </button>
  </div>
  <div class="ChatBot-innerContent">
    <div class="chat-section max-h-full" id="chat">
      <div class="chat-container space-y-4 p-4" id="chat-container">
        <div class="flex flex-row gap-2 items-end w-full">
          <div>
            <Image
              src={icon}
              alt="bot icon"
              class="max-h-7 max-w-5 shrink-0"
              loading="lazy"
            />
          </div>
          <div
            class="bg-lightGray rounded-t-lg rounded-br-lg drop-shadow-md py-2 px-4"
          >
            <p class="chatText">Hello, how can we assist you today?</p>
          </div>
        </div>
        <div class="flex flex-row gap-2 items-end w-full">
          <div>
            <Image
              src={icon}
              alt="bot icon"
              class="max-h-7 max-w-5 shrink-0"
              loading="lazy"
            />
          </div>
          <div
            class="bg-lightGray rounded-t-lg rounded-br-lg drop-shadow-md py-2 px-4"
          >
            <p class="chatText">Please choose one of the following options:</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="options-section" id="options-section">
    <div id="options-content"></div>
    <a
      class="w-fit"
      aria-label="Chat on WhatsApp"
      href="https://wa.me/966536767272"
      target="_blank"
    >
      <Image src={whatsapp} alt="Chat on WhatsApp" loading="lazy" />
    </a>
  </div>
</div>
<button
  id="Chatbot-icon"
  class="mt-2 mb-3 mx-3 translate-y-0 transition-transform drop-shadow ease-in-out duration-300 will-change-transform shrink-0 bg-gradient-to-br from-primaryOrange from-0% to-customYellow to-100% size-11 xs:size-14 rounded-full items-center justify-center group fixed z-40 bottom-0 right-0 hidden"
>
  <Image
    src={chatbot}
    loading="eager"
    alt="chatbot"
    class="size-6 xs:size-auto group-hover:scale-110 group-hover:ease-in group-hover:duration-300 translate-y-0.5 duration-300 ease-out will-change-transform pointer-events-none"
  />
</button>

<script src="/src/Script/ChatBot.js"></script>
