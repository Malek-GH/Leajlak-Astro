---
const { lang = "en" } = Astro.props;
const content = await import(`../data/${lang}.json`);
---

<div class="absolute invisible size-full top-0 left-0" id="popupview">
  <div
    class="bg-white rounded-xl h-auto w-full max-w-md fixed top-1/2 left-1/2 opacity-0 will-change-transform transform -translate-x-1/2 -translate-y-0 z-40 flex flex-col pointer-events-none transition-all duration-500 ease-in-out"
    id="popup"
  >
    <div class="p-5 flex items-center justify-between border-b">
      <h5 aria-label="Contact us">{content.contact_us}</h5>
      <div
        class="hover:bg-gray-200 p-1 rounded transition-colors ease-in-out duration-200 cursor-pointer"
        id="closepopup"
      >
        <svg
          class="size-5 fill-secondaryBlueText/90"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          ><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
            <path
              d="M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z"
            ></path>
          </g></svg
        >
      </div>
    </div>
    <div class="flex-1">
      <h5 class="px-5 pt-5" aria-label="Select an option">
        {content.select_option}
      </h5>
      <ul class="flex flex-col justify-center gap-3 it p-2">
        <li>
          <div class="cursor-pointer hover:bg-gray-100 rounded-md group p-3">
            <a
              href={`/${lang}/contact/logistic-companies`}
              data-route={`/${lang}/contact/logistic-companies`}
              class="flex flex-row items-start justify-between gap-2 register_item"
              aria-label="logistic-companie-contact"
            >
              <div class="flex flex-col gap-1">
                <h6 class="group-hover:text-darkerOrange duration-200">
                  {content.LC}
                </h6>
                <span
                  class="text-secondaryBlueText/80 text-sm group-hover:text-secondaryBlueText/90 duration-200"
                >
                  {content.LCD}
                </span>
              </div>
              <div
                class="ltr:group-hover:-translate-x-1 rtl:group-hover:translate-x-1 duration-200 rtl:rotate-180"
              >
                <svg
                  class="size-5 stroke-black group-hover:stroke-primaryOrange duration-200"
                  viewBox="-2.4 -2.4 28.8 28.8"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  transform="rotate(45)"
                  ><path
                    d="M7 17 17 7m0 0H8m9 0v9"
                    stroke=""
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path></svg
                >
              </div>
            </a>
          </div>
        </li>
        <li>
          <div
            class="cursor-pointer hover:bg-gray-100 rounded-md duration-200 group p-3"
          >
            <a
              href={`/${lang}/contact/merchants`}
              data-route={`/${lang}/contact/merchants`}
              class="flex flex-row items-start justify-between gap-2 register_item"
              aria-label="merchants-contact"
            >
              <div class="flex flex-col gap-1">
                <h6 class="group-hover:text-darkerOrange duration-200">
                  {content.Merchants}
                </h6>
                <span
                  class="text-secondaryBlueText/80 text-sm group-hover:text-secondaryBlueText/90 duration-200"
                >
                  {content.MD}
                </span>
              </div>
              <div
                class="ltr:group-hover:-translate-x-1 rtl:group-hover:translate-x-1 duration-200 rtl:rotate-180"
              >
                <svg
                  class="size-5 stroke-black group-hover:stroke-primaryOrange duration-200"
                  viewBox="-2.4 -2.4 28.8 28.8"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  transform="rotate(45)"
                  ><path
                    d="M7 17 17 7m0 0H8m9 0v9"
                    stroke=""
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path></svg
                >
              </div>
            </a>
          </div>
        </li>
        <li>
          <div
            class="cursor-pointer hover:bg-gray-100 rounded-md duration-200 group p-3"
          >
            <a
              href={`/${lang}/contact/drivers`}
              data-route={`/${lang}/contact/drivers`}
              class="flex flex-row items-start justify-between gap-2 register_item"
              aria-label="drivers-contact"
            >
              <div class="flex flex-col gap-1">
                <h6 class="group-hover:text-darkerOrange duration-200">
                  {content.drivers}
                </h6>
                <span
                  class="text-secondaryBlueText/80 text-sm group-hover:text-secondaryBlueText/90 duration-200"
                >
                  {content.DD}
                </span>
              </div>
              <div
                class="ltr:group-hover:-translate-x-1 rtl:group-hover:translate-x-1 duration-200 rtl:rotate-180"
              >
                <svg
                  class="size-5 stroke-black group-hover:stroke-primaryOrange duration-200"
                  viewBox="-2.4 -2.4 28.8 28.8"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  transform="rotate(45)"
                  ><path
                    d="M7 17 17 7m0 0H8m9 0v9"
                    stroke=""
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path></svg
                >
              </div>
            </a>
          </div>
        </li>
        <li>
          <div
            class="cursor-pointer hover:bg-gray-100 rounded-md duration-200 group p-3"
          >
            <a
              href={`/${lang}/contact/employees`}
              data-route={`/${lang}/contact/employees`}
              class="flex flex-row items-start justify-between gap-2 register_item"
              aria-label="employees-contact"
            >
              <div class="flex flex-col gap-1">
                <h6 class="group-hover:text-darkerOrange duration-200">
                  {content.Employees}
                </h6>
                <span
                  class="text-secondaryBlueText/80 text-sm group-hover:text-secondaryBlueText/90 duration-200"
                >
                  {content.ED}
                </span>
              </div>
              <div
                class="ltr:group-hover:-translate-x-1 rtl:group-hover:translate-x-1 duration-200 rtl:rotate-180"
              >
                <svg
                  class="size-5 stroke-black group-hover:stroke-primaryOrange duration-200"
                  viewBox="-2.4 -2.4 28.8 28.8"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  transform="rotate(45)"
                  ><path
                    d="M7 17 17 7m0 0H8m9 0v9"
                    stroke=""
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path></svg
                >
              </div>
            </a>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<style>
  #popupview.active {
    @apply visible z-50 bg-black/70;
  }
  #popupview.active #popup {
    @apply pointer-events-auto -translate-y-1/2 opacity-100;
  }
  h6 {
    @apply text-base font-medium text-secondaryBlueText;
  }
  span {
  }
</style>
<script>
  const popUp = document.getElementById("popupview");
  const popupButton = document.querySelector(".popupButton");
  const closePopUp = document.getElementById("closepopup");

  popupButton?.addEventListener("click", function () {
    popUp.classList.add("active");
    document.body.classList.add("no-scroll");
  });
  closePopUp?.addEventListener("click", function () {
    popUp.classList.remove("active");
    document.body.classList.remove("no-scroll");
  });
</script>
